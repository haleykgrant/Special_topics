---
title: "NHANES Data EDA"
author: "Trang Nguyen and Haley Grant"
date: "10/8/2019"
output: 
  html_document:
    code_folding: "hide"
    toc: TRUE
    toc_float: TRUE
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```

```{r, message = FALSE}
library(rnhanesdata)
library(ggplot2)
library(ggpubr)
library(dplyr)
library(tidyr)

load("PAXINTEN_C.rda")
load("PAXINTEN_D.rda")
load("Covariate_C.rda")
load("Covariate_D.rda")
load("FLAGS_C.rda")
load("FLAGS_D.rda")

```


PAXCAL and PAXSTAT are columns that show data reliability for each row. PAXCAL denotes the calibration of the device (1 if calibrated, 2 if not, and 9 if unknown). PAXSTAT denotes the data reliability status (1 if reliable, 2 if not).

```{r summary stats and basics}
#colnames(PAXINTEN_C)

# View number of inadequate rows
ggc1 = ggplot(data = PAXINTEN_C, aes(x = PAXCAL))+geom_bar(aes(fill = PAXCAL==1),position = position_dodge(width = 0.8), width=0.5)+
  labs(title = "PAXCAL: 2003-2004")+
  scale_fill_discrete(name = NULL,labels = c("Possibly Inaccurate","Adequate Data"))+
  theme_bw()
ggc2 = ggplot(data = PAXINTEN_C, aes(x = PAXSTAT))+geom_bar(aes(fill = PAXSTAT==1),position = position_dodge(width = 0.8), width=0.5)+
  labs(title = "PAXSTAT: 2003-2004")+
  scale_fill_discrete(name = NULL,labels = c("Possibly Inaccurate","Adequate Data"))+
  theme_bw()
ggd1 = ggplot(data = PAXINTEN_D, aes(x = PAXCAL))+geom_bar(aes(fill = PAXCAL==1),position = position_dodge(width = 0.8), width=0.5)+
  labs(title = "PAXCAL: 2005-2006")+
  scale_fill_discrete(name = NULL,labels = c("Possibly Inaccurate","Adequate Data"))+
  theme_bw()
ggd2 = ggplot(data = PAXINTEN_D, aes(x = PAXSTAT))+geom_bar(aes(fill = PAXSTAT==1),position = position_dodge(width = 0.8), width=0.5)+
  labs(title = "PAXSTAT: 2005-2006")+
  scale_fill_discrete(name = NULL, labels = c( "Possibly Inaccurate","Adequate Data"))+
  theme_bw()

ggarrange(ggc1,ggd1,ggc2,ggd2 ,ncol = 2, nrow = 2, common.legend = T, legend = "bottom")



```
